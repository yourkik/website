{% extends 'base.html' %} 

{% block title %}FMS κ²°κ³Ό λ¦¬ν¬νΈ{% endblock %} 

{% block content %}
<div class="container mt-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <div>
      <h2 class="fw-bold text-dark">π“ FMS ν†µν•© ν’μ§ λ¦¬ν¬νΈ</h2>
      <p class="text-muted">μ΅κ³„ ν’μ§ μ κ²€ λ° μ ν•© μ—¬λ¶€ μƒμ„Έ λ‚΄μ—­μ…λ‹λ‹¤.</p>
    </div>
    <span class="badge bg-primary rounded-pill p-2">Total: {{ results|length }} κ±΄</span>
  </div>

  <div class="card shadow-sm mb-5 bg-body rounded">
    <div class="card-body p-0">
      <div class="table-responsive">
        <table class="table table-hover table-striped align-middle mb-0" style="font-size: 0.95rem;">
          <thead class="table-dark text-center">
            <tr>
              <th scope="col" class="py-3">μμ„</th>
              <th scope="col" class="py-3">μ΅κ³„λ²νΈ</th>
              <th scope="col" class="py-3">ν’μΆ…</th>
              <th scope="col" class="py-3">μΆ…λ€λ¬΄κ²</th>
              <th scope="col" class="py-3">μ²΄μ¨</th>
              <th scope="col" class="py-3">νΈν΅μ</th>
              <th scope="col" class="py-3">νΈμ</th>
              <th scope="col" class="py-3">νμ •</th>
              <th scope="col" class="py-3">μ£Όλ¬Έλ²νΈ</th>
              <th scope="col" class="py-3">κ³ κ°μ‚¬</th>
              <th scope="col" class="py-3">λ„μ°©μ§€</th>
              <th scope="col" class="py-3">μ κ²€μΌμ</th>
            </tr>
          </thead>
          
          <tbody>
            {% if results %}
              {% for row in results %}
              <tr class="text-center">
                <td class="fw-bold text-secondary">{{ row['λ¬΄κ²μμ„'] if row['λ¬΄κ²μμ„'] else '-' }}</td>
                
                <td>{{ row['μ΅κ³„λ²νΈ'] }}</td>
                
                <td><span class="fw-semibold text-primary">{{ row['ν’μΆ…'] }}</span></td>
                
                <td>{{ row['μΆ…λ€λ¬΄κ²'] }}</td>
                
                <td>{{ row['μ²΄μ¨'] }}</td>
                
                <td>{{ row['νΈν΅μ'] }}</td>
                
                <td>{{ row['νΈμ'] }}</td>

                <td>
                  {% if 'Pass' in row['λ¶€μ ν•©μ—¬λ¶€'] %}
                    <span class="badge bg-success bg-opacity-75">μ ν•© (Pass)</span>
                  {% elif 'Fail' in row['λ¶€μ ν•©μ—¬λ¶€'] %}
                    <span class="badge bg-danger">λ¶€μ ν•© (Fail)</span>
                  {% else %}
                    <span class="badge bg-secondary">-</span>
                  {% endif %}
                </td>

                <td class="text-muted">{{ row['μ£Όλ¬Έλ²νΈ'] if row['μ£Όλ¬Έλ²νΈ'] else '-' }}</td>
                
                <td>{{ row['κ³ κ°μ‚¬'] if row['κ³ κ°μ‚¬'] else '-' }}</td>
                
                <td>{{ row['λ„μ°©μ§€'] if row['λ„μ°©μ§€'] else '-' }}</td>
                
                <td class="small">{{ row['μ κ²€μΌμ'] }}</td>
              </tr>
              {% endfor %}
            {% else %}
              <tr>
                <td colspan="12" class="text-center py-5 text-muted">
                  ν‘μ‹ν•  λ°μ΄ν„°κ°€ μ—†μµλ‹λ‹¤.
                </td>
              </tr>
            {% endif %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
{% endblock %}